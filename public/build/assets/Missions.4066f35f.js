import{S as K,i as Q,s as W,e as z,w as q,d as H,f as d,g as S,h as w,l as A,H as V,o as T,_ as ae,z as re,a3 as ee,r as J,u as $,t as j,x as F,n as B,y as I,q as ce,c as O,m as E,p as L,a0 as ue,M as fe,b as N,a as P,k as U,A as ge,v as _e}from"./main.f9575a20.js";import me from"./Layout.ed59baca.js";import{u as pe,C as de}from"./Card.b688c487.js";import"./InertiaLink.d5d629b9.js";function he(l){let e,t=l[0].progress.percentage+"",i,r,o;return{c(){e=z("progress"),i=J(t),r=J("%"),d(e,"class","mb-3"),e.value=o=l[0].progress.percentage,d(e,"max","100")},m(s,u){S(s,e,u),w(e,i),w(e,r)},p(s,u){u&1&&t!==(t=s[0].progress.percentage+"")&&$(i,t),u&1&&o!==(o=s[0].progress.percentage)&&(e.value=o)},d(s){s&&T(e)}}}function be(l){let e;return{c(){e=z("p"),e.innerHTML='<span class="font-semibold">Click to upload</span> or drag and drop',d(e,"class","mb-2 text-sm text-gray-500 dark:text-gray-400")},m(t,i){S(t,e,i)},p:V,d(t){t&&T(e)}}}function ke(l){let e,t,i,r,o,s,u,c,h,a,p;function g(k,C){return k[0].progress?he:be}let b=g(l),m=b(l);return{c(){e=z("div"),t=z("label"),i=z("div"),r=q("svg"),o=q("path"),s=H(),m.c(),u=H(),c=z("form"),h=z("input"),d(o,"stroke-linecap","round"),d(o,"stroke-linejoin","round"),d(o,"stroke-width","2"),d(o,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),d(r,"aria-hidden","true"),d(r,"class","mb-3 h-10 w-10 text-gray-400"),d(r,"fill","none"),d(r,"stroke","currentColor"),d(r,"viewBox","0 0 24 24"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(i,"class","flex flex-col items-center justify-center pt-5 pb-6"),d(h,"id","dropzone-file"),d(h,"type","file"),d(h,"class","hidden"),d(t,"for","dropzone-file"),d(t,"class","flex h-60 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-600 bg-gray-700 hover:border-gray-500 hover:bg-gray-600"),d(e,"class","flex w-full items-center justify-center")},m(k,C){S(k,e,C),w(e,t),w(t,i),w(i,r),w(r,o),w(i,s),m.m(i,null),w(t,u),w(t,c),w(c,h),a||(p=[A(h,"input",l[4]),A(h,"change",l[2]),A(e,"drop",l[3]),A(e,"dragover",ve)],a=!0)},p(k,[C]){b===(b=g(k))&&m?m.p(k,C):(m.d(1),m=b(k),m&&(m.c(),m.m(i,null)))},i:V,o:V,d(k){k&&T(e),m.d(),a=!1,ae(p)}}}function ve(l){l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect="copy")}function ye(l,e,t){let i,r=pe({mission:null});re(l,r,c=>t(0,i=c));function o(){i.post("/hub/missions")}function s(c){c.preventDefault(),c.stopPropagation(),ee(r,i.mission=c.dataTransfer.files[0],i),o()}return[i,r,o,s,c=>ee(r,i.mission=c.target.files[0],i)]}class we extends K{constructor(e){super(),Q(this,e,ye,ke,W,{})}}function te(l,e,t){const i=l.slice();return i[7]=e[t],i}function Re(l){let e;return{c(){e=q("path"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"d","M4.5 15.75l7.5-7.5 7.5 7.5")},m(t,i){S(t,e,i)},d(t){t&&T(e)}}}function Ce(l){let e;return{c(){e=q("path"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"d","M19.5 8.25l-7.5 7.5-7.5-7.5")},m(t,i){S(t,e,i)},d(t){t&&T(e)}}}function le(l){let e,t;return e=new we({}),{c(){O(e.$$.fragment)},m(i,r){E(e,i,r),t=!0},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){L(e,i)}}}function ie(l){let e,t;return e=new de({props:{shouldRedirect:l[4],mission:l[7]}}),e.$on("cardClicked",l[6]),{c(){O(e.$$.fragment)},m(i,r){E(e,i,r),t=!0},p(i,r){const o={};r&16&&(o.shouldRedirect=i[4]),r&4&&(o.mission=i[7]),e.$set(o)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){B(e.$$.fragment,i),t=!1},d(i){L(e,i)}}}function Me(l){let e,t,i,r,o,s,u,c,h,a,p,g,b;function m(_,n){return _[0]?Ce:Re}let k=m(l),C=k(l),R=l[3]&&le(),v=l[2],M=[];for(let _=0;_<v.length;_+=1)M[_]=ie(te(l,v,_));const y=_=>B(M[_],1,1,()=>{M[_]=null});return{c(){e=z("div"),t=z("button"),i=z("h3"),r=J(l[1]),o=H(),s=q("svg"),C.c(),u=H(),c=z("div"),R&&R.c(),h=H();for(let _=0;_<M.length;_+=1)M[_].c();d(i,"class","my-2 text-center text-xl font-bold uppercase leading-tight"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(s,"fill","none"),d(s,"viewBox","0 0 24 24"),d(s,"stroke-width","2.5"),d(s,"stroke","currentColor"),d(s,"class","ml-1 mt-2.5 h-6 w-6"),d(t,"class","flex justify-center text-blue-600"),d(c,"class",a=(l[0]?"":"hidden")+" col-span-full grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"),d(e,"class","grid grid-cols-1 gap-3 pt-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6")},m(_,n){S(_,e,n),w(e,t),w(t,i),w(i,r),w(t,o),w(t,s),C.m(s,null),w(e,u),w(e,c),R&&R.m(c,null),w(c,h);for(let f=0;f<M.length;f+=1)M[f].m(c,null);p=!0,g||(b=A(t,"click",l[5]),g=!0)},p(_,[n]){if((!p||n&2)&&$(r,_[1]),k!==(k=m(_))&&(C.d(1),C=k(_),C&&(C.c(),C.m(s,null))),_[3]?R?n&8&&j(R,1):(R=le(),R.c(),j(R,1),R.m(c,h)):R&&(F(),B(R,1,1,()=>{R=null}),I()),n&20){v=_[2];let f;for(f=0;f<v.length;f+=1){const D=te(_,v,f);M[f]?(M[f].p(D,n),j(M[f],1)):(M[f]=ie(D),M[f].c(),j(M[f],1),M[f].m(c,null))}for(F(),f=v.length;f<M.length;f+=1)y(f);I()}(!p||n&1&&a!==(a=(_[0]?"":"hidden")+" col-span-full grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"))&&d(c,"class",a)},i(_){if(!p){j(R);for(let n=0;n<v.length;n+=1)j(M[n]);p=!0}},o(_){B(R),M=M.filter(Boolean);for(let n=0;n<M.length;n+=1)B(M[n]);p=!1},d(_){_&&T(e),C.d(),R&&R.d(),ce(M,_),g=!1,b()}}}function je(l,e,t){let{title:i}=e,{missions:r}=e,{uploadCard:o=!1}=e,{open:s=!0}=e,{shouldRedirect:u}=e;const c=a=>t(0,s=!s);function h(a){ue.call(this,l,a)}return l.$$set=a=>{"title"in a&&t(1,i=a.title),"missions"in a&&t(2,r=a.missions),"uploadCard"in a&&t(3,o=a.uploadCard),"open"in a&&t(0,s=a.open),"shouldRedirect"in a&&t(4,u=a.shouldRedirect)},[s,i,r,o,u,c,h]}class G extends K{constructor(e){super(),Q(this,e,je,Me,W,{title:1,missions:2,uploadCard:3,open:0,shouldRedirect:4})}}function ne(l,e,t){const i=l.slice();return i[11]=e[t][0],i[12]=e[t][1],i}function ze(l){let e;return{c(){e=q("path"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"d","M13.5 10.5V6.75a4.5 4.5 0 119 0v3.75M3.75 21.75h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H3.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z")},m(t,i){S(t,e,i)},d(t){t&&T(e)}}}function Be(l){let e;return{c(){e=q("path"),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"d","M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z")},m(t,i){S(t,e,i)},d(t){t&&T(e)}}}function De(l){let e,t,i;function r(){return l[9](l[11])}return{c(){e=z("div"),d(e,"class","h-60 min-w-0 flex-grow space-y-1 rounded-lg bg-gray-800 p-3 shadow-md hover:bg-gray-700")},m(o,s){S(o,e,s),t||(i=A(e,"click",r),t=!0)},p(o,s){l=o},i:V,o:V,d(o){o&&T(e),t=!1,i()}}}function Se(l){let e,t;function i(){return l[8](l[11])}return e=new de({props:{mission:l[12],shouldRedirect:l[4]}}),e.$on("cardClicked",i),{c(){O(e.$$.fragment)},m(r,o){E(e,r,o),t=!0},p(r,o){l=r;const s={};o&32&&(s.mission=l[12]),o&16&&(s.shouldRedirect=l[4]),e.$set(s)},i(r){t||(j(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){L(e,r)}}}function oe(l){let e,t,i,r,o,s;const u=[Se,De],c=[];function h(a,p){return a[12]?0:1}return t=h(l),i=c[t]=u[t](l),{c(){e=z("div"),i.c(),r=H(),d(e,"class",o="flex "+(l[4]?"":"rounded-lg border-4 border-dashed")+" "+(l[0]&&l[0].play_order==l[11]&&l[0].operation_id==l[2].id?"border-rose-400":"border-gray-400"))},m(a,p){S(a,e,p),c[t].m(e,null),w(e,r),s=!0},p(a,p){let g=t;t=h(a),t===g?c[t].p(a,p):(F(),B(c[g],1,1,()=>{c[g]=null}),I(),i=c[t],i?i.p(a,p):(i=c[t]=u[t](a),i.c()),j(i,1),i.m(e,r)),(!s||p&53&&o!==(o="flex "+(a[4]?"":"rounded-lg border-4 border-dashed")+" "+(a[0]&&a[0].play_order==a[11]&&a[0].operation_id==a[2].id?"border-rose-400":"border-gray-400")))&&d(e,"class",o)},i(a){s||(j(i),s=!0)},o(a){B(i),s=!1},d(a){a&&T(e),c[t].d()}}}function Te(l){let e,t,i,r,o,s,u,c,h,a,p,g,b;function m(y,_){return y[4]?Be:ze}let k=m(l),C=k(l),R=Object.entries(l[5]),v=[];for(let y=0;y<R.length;y+=1)v[y]=oe(ne(l,R,y));const M=y=>B(v[y],1,1,()=>{v[y]=null});return{c(){e=z("div"),t=z("div"),i=z("h3"),r=J(l[1]),o=H(),s=z("button"),u=q("svg"),C.c(),c=H(),h=z("div");for(let y=0;y<v.length;y+=1)v[y].c();d(i,"class","my-2 text-center text-xl font-bold uppercase leading-tight text-blue-600"),d(u,"xmlns","http://www.w3.org/2000/svg"),d(u,"fill","none"),d(u,"viewBox","0 0 24 24"),d(u,"stroke-width","2.5"),d(u,"stroke","currentColor"),d(u,"class","h-5 w-5"),d(s,"class","pl-1 text-blue-600"),d(t,"class","flex justify-center"),d(h,"class",a=(l[3]?"":"hidden")+" col-span-full grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-3"),d(e,"class","grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-3")},m(y,_){S(y,e,_),w(e,t),w(t,i),w(i,r),w(t,o),w(t,s),w(s,u),C.m(u,null),w(e,c),w(e,h);for(let n=0;n<v.length;n+=1)v[n].m(h,null);p=!0,g||(b=A(s,"click",l[7]),g=!0)},p(y,[_]){if((!p||_&2)&&$(r,y[1]),k!==(k=m(y))&&(C.d(1),C=k(y),C&&(C.c(),C.m(u,null))),_&117){R=Object.entries(y[5]);let n;for(n=0;n<R.length;n+=1){const f=ne(y,R,n);v[n]?(v[n].p(f,_),j(v[n],1)):(v[n]=oe(f),v[n].c(),j(v[n],1),v[n].m(h,null))}for(F(),n=R.length;n<v.length;n+=1)M(n);I()}(!p||_&8&&a!==(a=(y[3]?"":"hidden")+" col-span-full grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-3"))&&d(h,"class",a)},i(y){if(!p){for(let _=0;_<R.length;_+=1)j(v[_]);p=!0}},o(y){v=v.filter(Boolean);for(let _=0;_<v.length;_+=1)B(v[_]);p=!1},d(y){y&&T(e),C.d(),ce(v,y),g=!1,b()}}}function He(l,e,t){let i,{title:r}=e,{operation:o}=e,{open:s=!0}=e,{selecting:u}=e,c=!0;const h=fe();function a(m){u&&u.play_order==m&&u.operation_id==o.id?t(0,u=null):t(0,u={play_order:m,operation_id:o.id}),h("selecting",{})}const p=()=>t(4,c=!c),g=m=>a(m),b=m=>a(m);return l.$$set=m=>{"title"in m&&t(1,r=m.title),"operation"in m&&t(2,o=m.operation),"open"in m&&t(3,s=m.open),"selecting"in m&&t(0,u=m.selecting)},l.$$.update=()=>{l.$$.dirty&4&&o.missions.forEach(m=>{t(5,i[m.play_order]=m.mission,i)})},t(5,i={1:null,2:null,3:null}),[u,r,o,s,c,i,a,p,g,b]}class se extends K{constructor(e){super(),Q(this,e,He,Te,W,{title:1,operation:2,open:3,selecting:0})}}function Oe(l){let e,t,i;function r(s){l[15](s)}let o={title:"Next operation",missions:l[8]};return l[4]!==void 0&&(o.shouldRedirect=l[4]),e=new G({props:o}),N.push(()=>P(e,"shouldRedirect",r)),e.$on("cardClicked",l[10]),{c(){O(e.$$.fragment)},m(s,u){E(e,s,u),i=!0},p(s,u){const c={};u&256&&(c.missions=s[8]),!t&&u&16&&(t=!0,c.shouldRedirect=s[4],U(()=>t=!1)),e.$set(c)},i(s){i||(j(e.$$.fragment,s),i=!0)},o(s){B(e.$$.fragment,s),i=!1},d(s){L(e,s)}}}function Ee(l){let e,t,i,r,o,s,u;function c(g){l[13](g)}let h={title:"This week",operation:l[0]};l[3]!==void 0&&(h.selecting=l[3]),t=new se({props:h}),N.push(()=>P(t,"selecting",c)),t.$on("selecting",l[9]);function a(g){l[14](g)}let p={title:"Next week",operation:l[1]};return l[3]!==void 0&&(p.selecting=l[3]),o=new se({props:p}),N.push(()=>P(o,"selecting",a)),o.$on("selecting",l[9]),{c(){e=z("div"),O(t.$$.fragment),r=H(),O(o.$$.fragment),d(e,"class","grid grid-cols-1 gap-3 sm:grid-cols-1 2xl:grid-cols-2")},m(g,b){S(g,e,b),E(t,e,null),w(e,r),E(o,e,null),u=!0},p(g,b){const m={};b&1&&(m.operation=g[0]),!i&&b&8&&(i=!0,m.selecting=g[3],U(()=>i=!1)),t.$set(m);const k={};b&2&&(k.operation=g[1]),!s&&b&8&&(s=!0,k.selecting=g[3],U(()=>s=!1)),o.$set(k)},i(g){u||(j(t.$$.fragment,g),j(o.$$.fragment,g),u=!0)},o(g){B(t.$$.fragment,g),B(o.$$.fragment,g),u=!1},d(g){g&&T(e),L(t),L(o)}}}function Le(l){let e,t,i,r,o,s,u,c,h,a,p,g,b;const m=[Ee,Oe],k=[];function C(f,D){return f[2].manage_operations?0:1}t=C(l),i=k[t]=m[t](l);function R(f){l[16](f)}let v={title:"My missions",missions:l[7],uploadCard:!0};l[4]!==void 0&&(v.shouldRedirect=l[4]),o=new G({props:v}),N.push(()=>P(o,"shouldRedirect",R)),o.$on("cardClicked",l[10]);function M(f){l[17](f)}let y={title:"Unplayed missions",missions:l[6]};l[4]!==void 0&&(y.shouldRedirect=l[4]),c=new G({props:y}),N.push(()=>P(c,"shouldRedirect",M)),c.$on("cardClicked",l[10]);function _(f){l[18](f)}let n={title:"Played missions",missions:l[5]};return l[4]!==void 0&&(n.shouldRedirect=l[4]),p=new G({props:n}),N.push(()=>P(p,"shouldRedirect",_)),p.$on("cardClicked",l[10]),{c(){e=z("div"),i.c(),r=H(),O(o.$$.fragment),u=H(),O(c.$$.fragment),a=H(),O(p.$$.fragment)},m(f,D){S(f,e,D),k[t].m(e,null),w(e,r),E(o,e,null),w(e,u),E(c,e,null),w(e,a),E(p,e,null),b=!0},p(f,[D]){let X=t;t=C(f),t===X?k[t].p(f,D):(F(),B(k[X],1,1,()=>{k[X]=null}),I(),i=k[t],i?i.p(f,D):(i=k[t]=m[t](f),i.c()),j(i,1),i.m(e,r));const Y={};D&128&&(Y.missions=f[7]),!s&&D&16&&(s=!0,Y.shouldRedirect=f[4],U(()=>s=!1)),o.$set(Y);const Z={};D&64&&(Z.missions=f[6]),!h&&D&16&&(h=!0,Z.shouldRedirect=f[4],U(()=>h=!1)),c.$set(Z);const x={};D&32&&(x.missions=f[5]),!g&&D&16&&(g=!0,x.shouldRedirect=f[4],U(()=>g=!1)),p.$set(x)},i(f){b||(j(i),j(o.$$.fragment,f),j(c.$$.fragment,f),j(p.$$.fragment,f),b=!0)},o(f){B(i),B(o.$$.fragment,f),B(c.$$.fragment,f),B(p.$$.fragment,f),b=!1},d(f){f&&T(e),k[t].d(),L(o),L(c),L(p)}}}const Ve=me;function qe(l,e,t){let i,r,o,s,u;re(l,ge,n=>t(12,u=n));let{missions:c}=e,{next_operation:h}=e,{next_2_operation:a}=e,{can:p}=e,g=null,b=!0;function m(n){t(4,b=!g)}function k(n){_e.Inertia.put(`/hub/operations/${g.operation_id}`,{play_order:g.play_order,mission_id:n.detail.mission_id},{preserveScroll:!0}),t(3,g=null),t(4,b=!0)}function C(n){g=n,t(3,g)}function R(n){g=n,t(3,g)}function v(n){b=n,t(4,b)}function M(n){b=n,t(4,b)}function y(n){b=n,t(4,b)}function _(n){b=n,t(4,b)}return l.$$set=n=>{"missions"in n&&t(11,c=n.missions),"next_operation"in n&&t(0,h=n.next_operation),"next_2_operation"in n&&t(1,a=n.next_2_operation),"can"in n&&t(2,p=n.can)},l.$$.update=()=>{l.$$.dirty&1&&t(8,i=h.missions.map(n=>n.mission)),l.$$.dirty&6144&&t(7,r=c.filter(n=>n.user_id==u.props.auth.user.id||n.maintainer_id==u.props.auth.user.id)),l.$$.dirty&2052&&t(6,o=c.filter(n=>!n.last_played&&(n.verified_by||p.test_missions))),l.$$.dirty&2052&&t(5,s=c.filter(n=>n.last_played&&(n.verified_by||p.test_missions)))},[h,a,p,g,b,s,o,r,i,m,k,c,u,C,R,v,M,y,_]}class Fe extends K{constructor(e){super(),Q(this,e,qe,Le,W,{missions:11,next_operation:0,next_2_operation:1,can:2})}}export{Fe as default,Ve as layout};
